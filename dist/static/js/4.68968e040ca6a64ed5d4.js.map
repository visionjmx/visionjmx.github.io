{"version":3,"sources":["webpack:///src/pages/restaurant/buyCart.vue","webpack:///./src/pages/restaurant/buyCart.vue?651a","webpack:///./src/pages/restaurant/buyCart.vue","webpack:///./src/pages/restaurant/children/children/goodsdetail.vue?6ac4","webpack:///./src/pages/restaurant/children/children/goodsdetail.vue","webpack:///src/pages/restaurant/children/restaurantgoodslist.vue","webpack:///src/pages/restaurant/children/children/goodsdetail.vue","webpack:///./src/pages/restaurant/children/restaurantgoodslist.vue?7b9b","webpack:///./src/pages/restaurant/children/restaurantgoodslist.vue"],"names":["buyCart","name","props","data","is_checked","methods","extends_default","Object","vuex_esm","btnclearAlertcart","this","$parent","btnclearAlert","getshopmessage","item","index","addSpecCart","foods_message","specfoods","goodsnum","$set","UPDATE_RESTAURANT_GOODS","restaurant_buyCart","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","on","click","_l","key","class","specs_activity","$event","specs_name","price","staticRenderFns","pages_restaurant_buyCart","__webpack_require__","normalizeComponent","ssrContext","children_goodsdetail","dispage","goodsdetail","attrs","src","image_path","alt","description","gutter","size","allow-half","color","readonly","model","value","callback","$$v","expression","rating","month_sales","specifications","_e","rating_count","satisfy_rate","restaurantgoodslist","components","Goodsdetail","goodsdetail_normalizeComponent","disapearpage","BuyCart","foodsList","foods_category_list","menuIndexChange","shoplisttop","menuscroll","foodsrcoll","menuIndex","isalerttip","iszhezhao","goods_num","showMoveDot","elLeft","elBottom","windowHeight","showgoodsdetail","setgoodsdetail","val","allNum","allnum","forEach","alertTip","getIntData","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","restaurantgoods","filter","restaurant_id","shopid","length","restaurant_goods_list","SET_RESTAURANT_GOODS","id","$nextTick","getAllFoodHeight","map","stop","btnss","undefined","event","target","getBoundingClientRect","left","bottom","push","beforeEnter","el","style","transform","children","opacity","afterEnter","_this2","transition","addEventListener","listenInCart","reduceCar","reducemoreCar","alert","_this3","listcontent","$refs","tabfootlist","from_default","offsetTop","_initScroll","_this4","menuHeight","tabmenu","clientHeight","bscroll_esm","probeType","deceleration","bounce","swipeTime","pos","Math","abs","round","y","querySelectorAll","scrollToElement","chooseMenu","_this5","scrollTo","mounted","window","innerHeight","computed","cardata","shopcard","categoryGoodsNum","allcategorynum","watch","children_restaurantgoodslist","ref","s_tab_li_active","directives","rawName","staticStyle","font-size","touchstart","stopPropagation","preventDefault","duration","enter","leave","enter-active-class","leave-active-class","appear","after-appear","before-appear","restaurantgoodslist_Component","restaurantgoodslist_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.68968e040ca6a64ed5d4.js","sourcesContent":["<template>\r\n  <!--规格弹窗页面-->\r\n  <div class=\"addcarshop\"   >\r\n    <ul class=\"addcarshop_ul\">\r\n      <li class=\"carshop_name clear\">{{foods_message.name}}\r\n        <div class=\"right\" @click=\"btnclearAlertcart\"> <i class=\"iconfont\">&#xe794;</i></div>\r\n      </li>\r\n      <li class=\"carshop_message\">\r\n        <h3>规格</h3>\r\n        <div>\r\n          <span\r\n                v-for=\"(item,index) in foods_message.specfoods\"\r\n                :key=\"index\"\r\n                @click=\"getshopmessage(item,index)\"\r\n                :class=\"{specs_activity:is_checked==index}\"\r\n          > {{item.specs_name}}</span>\r\n        </div>\r\n      </li>\r\n      <li class=\"carshop_footer clear\">\r\n        <div class=\"carshop_footer_left   left\">\r\n          <span>¥</span>\r\n          <span>{{foods_message.specfoods[0].price}}</span>\r\n        </div>\r\n        <div class=\"carshop_footer_right left\" @click=\"addSpecCart()\">\r\n          加入购物车\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {mapActions,mapState} from \"vuex\"\r\n\r\n  export default {\r\n        name: \"buyCart\",\r\n        props:[\r\n          'foods_message',\r\n          'shopid'\r\n         ],\r\n\r\n      data(){\r\n          return{\r\n            is_checked:0,\r\n          }\r\n      },\r\n      methods:{\r\n         ...mapActions([\"SET_SHOP_CAR_LIST\",'UPDATE_RESTAURANT_GOODS']),\r\n        btnclearAlertcart(){\r\n          this.$parent.btnclearAlert();\r\n        },\r\n        getshopmessage(item,index){\r\n          this.is_checked=index;\r\n        },\r\n        //添加规格购物车\r\n        addSpecCart(){\r\n\r\n          // shopId,       //商店id\r\n          //   category_id,  //食品分类id\r\n          //   item_id,     //食品规格id\r\n          //   food_id,   // 食品id\r\n          //   name,   //商品名称\r\n          //   price,  //商品价格\r\n          //   specs   //食品规格\r\n        // let data  =  {\r\n        //     shopId:this.shopid,\r\n        //     category_id:this.foods_message.category_id,\r\n        //     item_id:this.foods_message.item_id,\r\n        //     name:this.foods_message.specfoods[this.is_checked].name,\r\n        //     price:this.foods_message.specfoods[this.is_checked].price,\r\n        //     food_id:this.foods_message.specfoods[this.is_checked].food_id,\r\n        //     specs:this.foods_message.specfoods[this.is_checked].specs_name,\r\n        //     type:\"is_spec\",\r\n        //   };\r\n        //    this.SET_SHOP_CAR_LIST(data);\r\n        //    this.btnclearAlertcart();\r\n\r\n               if(this.foods_message.specfoods[this.is_checked].goodsnum){\r\n                 this.foods_message.specfoods[this.is_checked].goodsnum=this.foods_message.specfoods[this.is_checked].goodsnum+1;\r\n               }else{\r\n                 this.$set(this.foods_message.specfoods[this.is_checked],'goodsnum',1);\r\n               }\r\n\r\n          this.UPDATE_RESTAURANT_GOODS();\r\n\r\n          this.btnclearAlertcart();\r\n\r\n        }\r\n      }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .addcarshop{\r\n    position: fixed;\r\n    top: 35%;\r\n    left: 15%;\r\n    width: 70%;\r\n    background-color: #fff;\r\n    z-index: 18;\r\n    border: 1px;\r\n    border-radius: .2rem;\r\n    .addcarshop_ul{\r\n      .carshop_name{\r\n        font-size: .7rem;\r\n        color: #222;\r\n        font-weight: 400;\r\n        text-align: center;\r\n        padding: .5rem;\r\n      }\r\n      .carshop_message {\r\n        padding: .5rem;\r\n\r\n        h3{\r\n          font-size: .6rem;\r\n          color: #666;\r\n\r\n        }\r\n        div{\r\n          flex-wrap: wrap;\r\n          padding: .4rem 0;\r\n          span{\r\n            display: inline-block;\r\n            font-size: .6rem;\r\n            padding: .3rem .5rem;\r\n            border: .025rem solid #ddd;\r\n            border-radius: .2rem;\r\n            margin-right: .5rem;\r\n            margin-bottom: .2rem;\r\n\r\n          }\r\n          .specs_activity{\r\n            border-color: #3199e8;\r\n            color: #3199e8;\r\n          }\r\n        }\r\n\r\n      }\r\n      .carshop_footer{\r\n        display: flex;\r\n        -ms-flex-pack: justify;\r\n        justify-content: space-between;\r\n        -ms-flex-align: center;\r\n        align-items: center;\r\n        background-color: #f9f9f9;\r\n        padding: .5rem;\r\n        border: 1px;\r\n        border-bottom-left-radius: .2rem;\r\n        border-bottom-right-radius: .2rem;\r\n        .carshop_footer_left{\r\n          width: 55%;\r\n          span{\r\n            color: #ff6000;\r\n\r\n            &:nth-child(1){\r\n              font-size: .5rem;\r\n            }\r\n            &:nth-child(2){\r\n\r\n            }\r\n          }\r\n        }\r\n        .carshop_footer_right{\r\n          width: 4.2rem;\r\n          height: 1.3rem;\r\n          background-color: #3199e8;\r\n          border: 1px;\r\n          border-radius: .15rem;\r\n          font-size: .6rem;\r\n          color: #fff;\r\n          text-align: center;\r\n          line-height: 1.3rem;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/restaurant/buyCart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addcarshop\"},[_c('ul',{staticClass:\"addcarshop_ul\"},[_c('li',{staticClass:\"carshop_name clear\"},[_vm._v(_vm._s(_vm.foods_message.name)+\"\\n      \"),_c('div',{staticClass:\"right\",on:{\"click\":_vm.btnclearAlertcart}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])]),_vm._v(\" \"),_c('li',{staticClass:\"carshop_message\"},[_c('h3',[_vm._v(\"规格\")]),_vm._v(\" \"),_c('div',_vm._l((_vm.foods_message.specfoods),function(item,index){return _c('span',{key:index,class:{specs_activity:_vm.is_checked==index},on:{\"click\":function($event){return _vm.getshopmessage(item,index)}}},[_vm._v(\" \"+_vm._s(item.specs_name))])}),0)]),_vm._v(\" \"),_c('li',{staticClass:\"carshop_footer clear\"},[_c('div',{staticClass:\"carshop_footer_left   left\"},[_c('span',[_vm._v(\"¥\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.foods_message.specfoods[0].price))])]),_vm._v(\" \"),_c('div',{staticClass:\"carshop_footer_right left\",on:{\"click\":function($event){return _vm.addSpecCart()}}},[_vm._v(\"\\n        加入购物车\\n      \")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d840384\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/restaurant/buyCart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8d840384\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./buyCart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./buyCart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./buyCart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d840384\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./buyCart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8d840384\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/restaurant/buyCart.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-goodsdetail\"},[_c('div',{staticClass:\"s-header clear\"},[_c('i',{staticClass:\"iconfont txtQ_c\",on:{\"click\":_vm.dispage}},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.goodsdetail.name))]),_vm._v(\" \"),_c('div',{staticClass:\"empty\"})]),_vm._v(\" \"),_c('div',{staticClass:\"goods_message\"},[_c('div',{staticClass:\"goods_img\"},[_c('img',{attrs:{\"src\":'//elm.cangdu.org/img/'+_vm.goodsdetail.image_path,\"alt\":\"\"}})]),_vm._v(\" \"),_c('ul',{staticClass:\"goods_ul\"},[_c('li',{staticClass:\"goods_name\"},[_vm._v(_vm._s(_vm.goodsdetail.name))]),_vm._v(\" \"),_c('li',{staticClass:\"goods_description\"},[_vm._v(_vm._s(_vm.goodsdetail.description))]),_vm._v(\" \"),_c('li',{staticClass:\"goods_rate\"},[_vm._v(\"评分\\n          \"),_c('van-rate',{staticClass:\"ll\",attrs:{\"gutter\":\"0px\",\"size\":\"0.5rem\",\"allow-half\":\"\",\"color\":\"#ff6000\",\"readonly\":\"\"},model:{value:(_vm.goodsdetail.rating),callback:function ($$v) {_vm.$set(_vm.goodsdetail, \"rating\", $$v)},expression:\"goodsdetail.rating\"}}),_vm._v(\" \"),_c('span',{staticClass:\"col\"},[_vm._v(_vm._s(_vm.goodsdetail.rating))])],1),_vm._v(\" \"),_c('li',{staticClass:\"sale\"},[_vm._v(\"月售 \"+_vm._s(_vm.goodsdetail.month_sales)+\"单\\n\\n            \"),_vm._v(\" \"),_c('span',{staticClass:\"send_price\"},[_vm._v(\"售价  ¥\"+_vm._s(_vm.goodsdetail.specfoods[0].price)+\"\\n            \"),(_vm.goodsdetail.specifications.length)?_c('span',[_vm._v(\"起\")]):_vm._e()])]),_vm._v(\" \"),_c('li',[_vm._v(\"评论数 \"+_vm._s(_vm.goodsdetail.rating_count)+\" 好评率 \"+_vm._s(_vm.goodsdetail.satisfy_rate)+\"%\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-132ed5d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/restaurant/children/children/goodsdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-132ed5d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goodsdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goodsdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-132ed5d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goodsdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-132ed5d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/restaurant/children/children/goodsdetail.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"s-content\">\r\n\r\n    <div class=\"s-content-tab clear\">\r\n      <section class=\"s-tab-list left\" ref=\"tabmenu\">\r\n      <ul >\r\n\r\n        <li class=\"s-tab-li\"\r\n            v-for=\"(item,index) in foods_category_list\"\r\n            :class=\"{s_tab_li_active:index==menuIndex}\"\r\n            :key=\"index\"\r\n            @click=\"chooseMenu(index)\"\r\n        >{{item.name}}\r\n          <span class=\"category_num\"  v-if=\"categoryGoodsNum[index]>0\">{{categoryGoodsNum[index]}}</span>\r\n\r\n        </li>\r\n      </ul>\r\n      </section>\r\n      <section class=\"s-content-list left\"  ref=\"tabfootlist\">\r\n      <ul >\r\n          <li  v-for=\"(item,index) in foodsList\">\r\n            <div class=\"s-content-list-title\" :key=\"index\">\r\n              <b>\r\n                {{item.name}}\r\n\r\n\r\n              </b>\r\n              <span>{{item.description}}</span>\r\n            </div>\r\n            <ul class=\"s-goods-list\">\r\n              <li class=\"s-goods-list-li clear\" v-for=\"(val,key) in item.foods\" :key=\"key\" @click=\"setgoodsdetail(val)\">\r\n                <div class=\"goods-img left\">\r\n                  <img :src=\"'//elm.cangdu.org/img/'+val.image_path\" alt=\"\">\r\n                </div>\r\n                <ul class=\"goods-message left\">\r\n                  <li class=\"goods-name clear\">\r\n                    {{val.name}}\r\n                    <!--<h4 class=\"new_sign left\" >新品</h4>-->\r\n                    <!--<h4 class=\"right\">2313</h4>-->\r\n                     <!--&lt;!&ndash;<ul  class=\"ite clear\">&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;<li class=\"ite_lif left\">14564</li>&ndash;&gt;-->\r\n                        <!--&lt;!&ndash;<li class=\"right\">14564</li>&ndash;&gt;-->\r\n                     <!--&lt;!&ndash;</ul>&ndash;&gt;-->\r\n\r\n\r\n\r\n\r\n                  </li>\r\n                  <li class=\"goods-desc\">{{val.description}}</li>\r\n                  <li >月售{{val.month_sales}}份 好评率{{val.satisfy_rate}}%</li>\r\n                  <li class=\"clear\">\r\n                    <div class=\"price left\">\r\n                      <span>¥</span>\r\n                      <span>{{val.specfoods[0].price}}</span>\r\n                    </div>\r\n                    <span v-if=\"val.specifications.length\">起</span>\r\n                    <div class=\"btn right\">\r\n                      <div v-if=\"val.specifications.length\">\r\n                         <span v-show=\"allNum(val)>0\">\r\n                            <i class=\"iconfont\" style=\"font-size: 0.7rem\" @touchstart.stop.prevent=\"reducemoreCar()\" >&#xe656;</i><span class=\"num\">{{allNum(val)}}</span>\r\n                         </span>\r\n                        <button class=\"get-rule\"  @touchstart.stop.prevent=\"alertTip(val)\">选规格</button>\r\n                      </div>\r\n                      <div v-else>\r\n                        <transition name=\"fade\" :duration=\"{ enter: 500, leave: 100 }\" >\r\n                          <span v-if=\"val.specfoods[0].goodsnum>0\">\r\n                                <i class=\"iconfont\" style=\"font-size: 0.7rem;color: #3190e8;\"  @touchstart.stop.prevent=\"reduceCar(val)\">&#xe656;</i>\r\n                                <span class=\"num\">{{val.specfoods[0].goodsnum}}</span>\r\n                          </span>\r\n                        </transition>\r\n                        <i class=\"iconfont\" style=\"font-size: 0.75rem;color: #3190e8;\" @touchstart.stop.prevent=\"btnss(val)\">&#xe60d;</i>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </li>\r\n            </ul>\r\n\r\n\r\n\r\n\r\n          </li>\r\n      </ul>\r\n      </section>\r\n    </div>\r\n    <buy-cart :foods_message=\"foods_message\" v-if=\"isalerttip\" :shopid=\"shopid\" ></buy-cart>\r\n    <transition enter-active-class=\"animated fadeIn\" leave-active-class=\"opacity 0\" >\r\n         <goodsdetail :goodsdetail=\"goodsdetail\" v-if=\"showgoodsdetail\"></goodsdetail>\r\n    </transition>\r\n    <div class=\"zhezhao\"  v-if=\"iszhezhao\"></div>\r\n    <transition\r\n      appear\r\n      @after-appear = 'afterEnter'\r\n      @before-appear=\"beforeEnter\"\r\n      v-for=\"(item,index) in showMoveDot\"\r\n      :key = index\r\n    >\r\n    <span class=\"move_dot\" v-if=\"item\">\r\n        <div class=\"qiu\"></div>\r\n    </span>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import  {get_restaurant_goods_list}  from \"../../../serivice/api\";\r\n  import {mapActions,mapState,mapGetters} from \"vuex\"\r\n  import Bscroll from 'better-scroll'\r\n  import BuyCart from \"../buyCart\";\r\n  import Goodsdetail from \"./children/goodsdetail\";\r\n  export default {\r\n    name: \"restaurantgoodslist\",\r\n    components: {Goodsdetail, BuyCart},\r\n    props:['restaurant_goods_list','shopid'],\r\n    data(){\r\n           return{\r\n\r\n             foodsList:[],//商店食品信息\r\n             foods_category_list:[],//获取商品分类信息\r\n             menuIndexChange: true,//解决选中index时，scroll监听事件重复判断设置index的bug\r\n             foods_message:{},//点击规格商品时，把数据传输到弹窗组件中\r\n             shoplisttop:[],//每个分类食物列表对顶部top的距离\r\n             menuscroll:null,//菜单滑轮\r\n             foodsrcoll:null,//商品食物列表滑轮\r\n             menuIndex:0,//表示被选中的菜单项\r\n             isalerttip:false,\r\n             iszhezhao:false,//判断遮罩层是否开启\r\n             goods_num:[],//商品数量\r\n             showMoveDot: [], //控制下落的小圆点显示隐藏\r\n             elLeft:'',\r\n             elBottom:'',\r\n             windowHeight:null,\r\n             goodsdetail:'',\r\n             showgoodsdetail:false,\r\n           }\r\n        },\r\n        methods:{\r\n          ...mapActions(['SET_SHOP_CAR_LIST','REMOVE_SHOP_CAR_LIST','SET_RESTAURANT_GOODS','UPDATE_RESTAURANT_GOODS']),\r\n             //设置商品详情\r\n            setgoodsdetail(val){\r\n                this.goodsdetail=val;\r\n                this.showgoodsdetail=true;\r\n            },\r\n            disapearpage(){\r\n             this.showgoodsdetail=false;\r\n            },\r\n\r\n             //计算总数量\r\n             allNum(val){\r\n                var allnum=0;\r\n                val.specfoods.forEach(item=>{\r\n                  if(item.goodsnum>0){\r\n                    allnum=item.goodsnum+allnum;\r\n                  }\r\n                })\r\n               return allnum;\r\n             },\r\n           //点击弹框叉号关闭遮照层和弹框\r\n          btnclearAlert(){\r\n            this.isalerttip=false;\r\n            this.iszhezhao=false;\r\n            this.foods_message={};\r\n          },\r\n          //设置是否弹出窗口\r\n          alertTip(val){\r\n            this.isalerttip=true;\r\n            this.iszhezhao=true;\r\n            this.foods_message=val;\r\n          },\r\n\r\n          async getIntData(){\r\n            // this.foodsList=await get_restaurant_goods_list({restaurant_id:this.id});\r\n            let result =     this.restaurantgoods.filter((item)=>{\r\n                return  item.restaurant_id==this.shopid;\r\n            });\r\n            if(result.length==0){\r\n              // this.foodsList=await get_restaurant_goods_list({restaurant_id:this.id});\r\n              this.foodsList=this.restaurant_goods_list;\r\n              //判断vuex 是否有数据 然后进行修改\r\n              this.SET_RESTAURANT_GOODS({id:this.shopid,data:this.foodsList});\r\n            }else{\r\n              this.foodsList = result;\r\n            }\r\n\r\n\r\n\r\n            //dom结构加载结束(nextTick这个接口是计算dom相关的,要确保原生dom已经渲染了)\r\n            this.$nextTick(()=>{\r\n              this.getAllFoodHeight();\r\n            });\r\n            this.foods_category_list=this.foodsList.map((item)=>{\r\n              return {\r\n                name:item.name,\r\n              }\r\n            });\r\n          },\r\n          //添加购物车\r\n          btnss(val){\r\n\r\n\r\n            if(val.specfoods[0].goodsnum!=undefined ){\r\n              val.specfoods[0].goodsnum=val.specfoods[0].goodsnum+1;\r\n            }else{\r\n              this.$set(val.specfoods[0],'goodsnum',1);\r\n            }\r\n             //小球动画\r\n             this.elLeft = event.target.getBoundingClientRect().left;\r\n             this.elBottom = event.target.getBoundingClientRect().bottom;\r\n             this.showMoveDot.push(true);\r\n\r\n              //更新vuex数据\r\n              this.UPDATE_RESTAURANT_GOODS();\r\n          },\r\n          //小球动画设置\r\n          beforeEnter(el){\r\n            el.style.transform = `translate3d(0,${37 + this.elBottom - this.windowHeight}px,0)`;\r\n            el.children[0].style.transform = `translate3d(${this.elLeft - 30}px,0,0)`;\r\n            el.children[0].style.opacity = 0;\r\n          },\r\n          afterEnter(el){\r\n            el.style.transform = `translate3d(0,0,0)`;\r\n            el.children[0].style.transform = `translate3d(0,0,0)`;\r\n            el.style.transition = 'transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)';\r\n            el.children[0].style.transition = 'transform .55s linear';\r\n            this.showMoveDot = this.showMoveDot.map(item => false);\r\n            el.children[0].style.opacity = 1;\r\n            el.children[0].addEventListener('transitionend', () => {\r\n              this.$parent.listenInCart();\r\n            })\r\n          },\r\n          //删除对应的购物车\r\n          reduceCar(val){\r\n            if(val.specfoods[0].goodsnum!=undefined  && val.specfoods[0].goodsnum>0 ){\r\n              val.specfoods[0].goodsnum=val.specfoods[0].goodsnum-1;\r\n            }\r\n            this.UPDATE_RESTAURANT_GOODS();\r\n\r\n          },\r\n          //多规格商品不能直接删除来个提醒\r\n          reducemoreCar(){\r\n            alert(\"多规格商品只能在购物车删除\");\r\n          },\r\n          //获取食物列表每个分类的的offsetTop，赋给对应的数组\r\n          getAllFoodHeight(){\r\n             const listcontent = this.$refs.tabfootlist;\r\n            const listArr  = Array.from(listcontent.children[0].children) ;\r\n            listArr.forEach((item, index) => {\r\n                this.shoplisttop[index] = item.offsetTop;\r\n              });\r\n            this._initScroll();\r\n          },\r\n          // 添加对应的bscroll 事件内容\r\n          _initScroll(){\r\n            const menuHeight = this.$refs.tabmenu.clientHeight;\r\n            this.menuscroll = new Bscroll(this.$refs.tabmenu,{\r\n              click: true,\r\n            });\r\n            this.foodsrcoll = new Bscroll(this.$refs.tabfootlist,{\r\n              probeType: 3, //动画运行过程中实时派发 scroll 事件。\r\n              deceleration: 0.001,\r\n              bounce: false,\r\n              swipeTime: 2000,\r\n              click: true,\r\n            });\r\n            this.foodsrcoll.on(\"scroll\",(pos)=>{\r\n              this.shoplisttop.forEach((item, index) => {\r\n                if ( this.menuIndexChange && Math.abs(Math.round(pos.y)) >= item ) {\r\n                  this.menuIndex = index;\r\n                  const menuList=this.$refs.tabmenu.querySelectorAll('.s_tab_li_active');\r\n                  const el = menuList[0];\r\n                  this.menuscroll.scrollToElement(el, 800, 0, -(menuHeight/2 - 50));\r\n                }\r\n              })\r\n            })\r\n          },\r\n          //点击的时候显示对应的数据\r\n          //点击左侧食品列表标题，相应列表移动到最顶层\r\n          chooseMenu(index){\r\n            const menuHeight = this.$refs.tabmenu.clientHeight;\r\n            this.menuIndex = index;\r\n            this.menuIndexChange=false;\r\n            const menuList=this.$refs.tabmenu.querySelectorAll('.s_tab_li_active');\r\n            const el = menuList[0];\r\n            this.menuscroll.scrollToElement(el, 800, 0, -(menuHeight/2 - 50));\r\n            this.foodsrcoll.scrollTo(0, -this.shoplisttop[index], 400);\r\n            this.foodsrcoll.on('scrollEnd', () => {\r\n              this.menuIndexChange=true;\r\n            })\r\n          },\r\n        },\r\n        mounted(){\r\n          // this.id=this.$route.query.id;\r\n          this.getIntData();\r\n          this.windowHeight = window.innerHeight;\r\n        },\r\n        computed:{\r\n          ...mapState(['shopCarList','restaurantgoods']),\r\n          ...mapGetters(['shopcard','allcategorynum']),\r\n          cardata(){\r\n            return this.shopcard(this.shopid);\r\n          },\r\n          //获取不同栏目添加购物车的数量\r\n          categoryGoodsNum(){\r\n            return this.allcategorynum(this.shopid);\r\n          }\r\n        },\r\n          watch:{\r\n            restaurant_goods_list(){\r\n              this.getIntData();\r\n            }\r\n          }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .fade-enter-active {\r\n    transition: all .3s ease;\r\n  }\r\n  .fade-leave-active {\r\n    transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\r\n  }\r\n  .fade-enter, .slide-fade-leave-to\r\n    /* .slide-fade-leave-active for below version 2.1.8 */ {\r\n    transform: translateX(10px);\r\n    opacity: 0;\r\n  }\r\n\r\n\r\n  .move_dot{\r\n    position: fixed;\r\n    bottom: 30px;\r\n    left: 30px;\r\n\r\n    .qiu{\r\n      width: 0.7rem;\r\n      height: 0.7rem;\r\n      border-radius: 50%;\r\n      background: #3190e8;\r\n    }\r\n  }\r\n  .zhezhao{\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.2);\r\n    z-index: 17;\r\n  }\r\n  .s-content{\r\n    width: 100%;\r\n\r\n\r\n    /*margin-top: 5.3rem;*/\r\n    .s-content-tab{\r\n\r\n      .s-tab-list{\r\n        width: 30%;\r\n        font-size: .6rem;\r\n        color: #666;\r\n        height: 27rem;\r\n        overflow: auto;\r\n        .s-tab-li{\r\n          position: relative;\r\n          line-height: 1.3rem;\r\n          padding: 0.65rem;\r\n          border-bottom: .025rem solid #ededed;\r\n          box-sizing: border-box;\r\n          border-left: .15rem solid #f8f8f8;\r\n          .category_num{\r\n            position: absolute;\r\n            top: .1rem;\r\n            right: .1rem;\r\n            background-color: #ff461d;\r\n            line-height: .6rem;\r\n            text-align: center;\r\n            border-radius: 50%;\r\n            border: .025rem solid #ff461d;\r\n            min-width: .6rem;\r\n            height: .6rem;\r\n            font-size: .5rem;\r\n            color: #fff;\r\n            font-family: Helvetica Neue,Tahoma,Arial;\r\n          }\r\n        }\r\n        .s_tab_li_active{\r\n          box-sizing: border-box;\r\n          border-left:.15rem solid #3190e8;\r\n          background-color: white;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n      .s-content-list{\r\n        width: 70%;\r\n        height: 27rem;\r\n        overflow: auto;\r\n        .s-content-list-title{\r\n          padding:0 0.4rem;\r\n          font-size: 0.5rem;\r\n          line-height: 1.65rem;\r\n          b{\r\n            font-size: 0.65rem;\r\n          }\r\n          span{\r\n            font-size: 0.45rem;\r\n          }\r\n        }\r\n        .s-goods-list{\r\n          font-size: 0.5rem;\r\n          line-height: 0.7rem;\r\n          background-color: white;\r\n          .s-goods-list-li{\r\n            padding: .6rem .4rem;\r\n            border-bottom: 1px solid #f8f8f8;\r\n\r\n            .goods-img{\r\n              width: 25%;\r\n              padding-top: 0.3rem;\r\n              img{\r\n                width: 1.65rem;\r\n              }\r\n            }\r\n            .goods-message{\r\n              .goods-name{\r\n\r\n              }\r\n\r\n              li{\r\n                padding-top: 0.3rem;\r\n              }\r\n              width: 75%;\r\n              .price{\r\n                font-size: .7rem;\r\n                color: #f60;\r\n                font-weight: 700;\r\n                margin-right: .3rem;\r\n              }\r\n              .btn{\r\n                .num{\r\n                   display: inline-block;\r\n                   width: 1rem;\r\n                  text-align: center;\r\n                };\r\n                .get-rule{\r\n                  display: inline-block;\r\n                  font-size: .55rem;\r\n                  color: #fff;\r\n                  padding: .1rem .2rem;\r\n                  background-color: #3190e8;\r\n                  border-radius: .2rem;\r\n                  border: 1px solid #3190e8;\r\n\r\n                }\r\n\r\n              }\r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/restaurant/children/restaurantgoodslist.vue","<template>\r\n  <div class=\"s-goodsdetail\">\r\n    <div class=\"s-header clear\">\r\n      <i class=\"iconfont txtQ_c\"  @click=\"dispage\">&#xe606;</i>\r\n      <span>{{goodsdetail.name}}</span>\r\n      <div class=\"empty\"></div>\r\n    </div>\r\n    <div class=\"goods_message\">\r\n       <div class=\"goods_img\">\r\n         <img :src=\"'//elm.cangdu.org/img/'+goodsdetail.image_path\" alt=\"\">\r\n       </div>\r\n        <ul class=\"goods_ul\">\r\n          <li class=\"goods_name\">{{goodsdetail.name}}</li>\r\n          <li class=\"goods_description\">{{goodsdetail.description}}</li>\r\n          <li class=\"goods_rate\">评分\r\n            <van-rate\r\n            v-model=\"goodsdetail.rating\"\r\n            gutter=\"0px\"\r\n            size=\"0.5rem\"\r\n            allow-half\r\n            color=\"#ff6000\"\r\n            readonly\r\n            class=\"ll\"\r\n          />\r\n           <span class=\"col\">{{goodsdetail.rating}}</span>   </li>\r\n          <li class=\"sale\">月售&nbsp;{{goodsdetail.month_sales}}单\r\n\r\n              <!--<span></span>-->\r\n              <span class=\"send_price\">售价&nbsp; ¥{{goodsdetail.specfoods[0].price}}\r\n              <span v-if=\"goodsdetail.specifications.length\">起</span>\r\n              </span>\r\n\r\n          </li>\r\n          <li>评论数&nbsp;{{goodsdetail.rating_count}}&nbsp;好评率&nbsp;{{goodsdetail.satisfy_rate}}%</li>\r\n        </ul>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"goodsdetail\",\r\n      props:['goodsdetail'],\r\n      methods:{\r\n        dispage(){\r\n          this.$parent.disapearpage();\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .s-goodsdetail{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    background-color: #fff;\r\n    .s-header {\r\n      background-color: #3190e8;\r\n      width: 100%;\r\n      height: 1.95rem;\r\n      color: white;\r\n      font-size: 0.8rem;\r\n      line-height: 1.95rem;\r\n      text-align: center;\r\n      .txtQ_c {\r\n        float: left;\r\n        margin-left: 0.5rem;\r\n      }\r\n      span {\r\n        margin-right: 0.9rem;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    .goods_message{\r\n\r\n      .goods_img{\r\n        width: 100%;\r\n        img{\r\n          width: 100%;\r\n        }\r\n      }\r\n\r\n      .goods_ul{\r\n        padding: 0.5rem;\r\n        font-size: .6rem;\r\n        li{\r\n          line-height: 1.2rem;\r\n        }\r\n        .goods_rate{\r\n          .ll{\r\n            display: inline-block;\r\n          }\r\n          .col{\r\n            color: #ff6000;\r\n          }\r\n        }\r\n        .send_price{\r\n          color: #ff6000;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/restaurant/children/children/goodsdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-content\"},[_c('div',{staticClass:\"s-content-tab clear\"},[_c('section',{ref:\"tabmenu\",staticClass:\"s-tab-list left\"},[_c('ul',_vm._l((_vm.foods_category_list),function(item,index){return _c('li',{key:index,staticClass:\"s-tab-li\",class:{s_tab_li_active:index==_vm.menuIndex},on:{\"click\":function($event){return _vm.chooseMenu(index)}}},[_vm._v(_vm._s(item.name)+\"\\n        \"),(_vm.categoryGoodsNum[index]>0)?_c('span',{staticClass:\"category_num\"},[_vm._v(_vm._s(_vm.categoryGoodsNum[index]))]):_vm._e()])}),0)]),_vm._v(\" \"),_c('section',{ref:\"tabfootlist\",staticClass:\"s-content-list left\"},[_c('ul',_vm._l((_vm.foodsList),function(item,index){return _c('li',[_c('div',{key:index,staticClass:\"s-content-list-title\"},[_c('b',[_vm._v(\"\\n              \"+_vm._s(item.name)+\"\\n\\n\\n            \")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.description))])]),_vm._v(\" \"),_c('ul',{staticClass:\"s-goods-list\"},_vm._l((item.foods),function(val,key){return _c('li',{key:key,staticClass:\"s-goods-list-li clear\",on:{\"click\":function($event){return _vm.setgoodsdetail(val)}}},[_c('div',{staticClass:\"goods-img left\"},[_c('img',{attrs:{\"src\":'//elm.cangdu.org/img/'+val.image_path,\"alt\":\"\"}})]),_vm._v(\" \"),_c('ul',{staticClass:\"goods-message left\"},[_c('li',{staticClass:\"goods-name clear\"},[_vm._v(\"\\n                  \"+_vm._s(val.name)+\"\\n                  \")]),_vm._v(\" \"),_c('li',{staticClass:\"goods-desc\"},[_vm._v(_vm._s(val.description))]),_vm._v(\" \"),_c('li',[_vm._v(\"月售\"+_vm._s(val.month_sales)+\"份 好评率\"+_vm._s(val.satisfy_rate)+\"%\")]),_vm._v(\" \"),_c('li',{staticClass:\"clear\"},[_c('div',{staticClass:\"price left\"},[_c('span',[_vm._v(\"¥\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(val.specfoods[0].price))])]),_vm._v(\" \"),(val.specifications.length)?_c('span',[_vm._v(\"起\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn right\"},[(val.specifications.length)?_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.allNum(val)>0),expression:\"allNum(val)>0\"}]},[_c('i',{staticClass:\"iconfont\",staticStyle:{\"font-size\":\"0.7rem\"},on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.reducemoreCar()}}},[_vm._v(\"\")]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.allNum(val)))])]),_vm._v(\" \"),_c('button',{staticClass:\"get-rule\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.alertTip(val)}}},[_vm._v(\"选规格\")])]):_c('div',[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 100 }}},[(val.specfoods[0].goodsnum>0)?_c('span',[_c('i',{staticClass:\"iconfont\",staticStyle:{\"font-size\":\"0.7rem\",\"color\":\"#3190e8\"},on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.reduceCar(val)}}},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(val.specfoods[0].goodsnum))])]):_vm._e()]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont\",staticStyle:{\"font-size\":\"0.75rem\",\"color\":\"#3190e8\"},on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.btnss(val)}}},[_vm._v(\"\")])],1)])])])])}),0)])}),0)])]),_vm._v(\" \"),(_vm.isalerttip)?_c('buy-cart',{attrs:{\"foods_message\":_vm.foods_message,\"shopid\":_vm.shopid}}):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"opacity 0\"}},[(_vm.showgoodsdetail)?_c('goodsdetail',{attrs:{\"goodsdetail\":_vm.goodsdetail}}):_vm._e()],1),_vm._v(\" \"),(_vm.iszhezhao)?_c('div',{staticClass:\"zhezhao\"}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.showMoveDot),function(item,index){return _c('transition',{key:index,attrs:{\"appear\":\"\"},on:{\"after-appear\":_vm.afterEnter,\"before-appear\":_vm.beforeEnter}},[(item)?_c('span',{staticClass:\"move_dot\"},[_c('div',{staticClass:\"qiu\"})]):_vm._e()])})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01619fe4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/restaurant/children/restaurantgoodslist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01619fe4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./restaurantgoodslist.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./restaurantgoodslist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./restaurantgoodslist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01619fe4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./restaurantgoodslist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-01619fe4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/restaurant/children/restaurantgoodslist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}